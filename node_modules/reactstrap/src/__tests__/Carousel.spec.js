import React from 'react';
<<<<<<< HEAD
import { render, screen } from '@testing-library/react';
import '@testing-library/jest-dom';
import user from '@testing-library/user-event';
import { Carousel } from '..';
=======
import { mount } from 'enzyme';
import { Carousel } from '../';
>>>>>>> babce7e82dc134320378dfce834b316b88320254
import CarouselItem from '../CarouselItem';
import CarouselIndicators from '../CarouselIndicators';
import CarouselControl from '../CarouselControl';
import CarouselCaption from '../CarouselCaption';
<<<<<<< HEAD
import { CarouselContext } from '../CarouselContext';

const DEFAULT_TIMER_TIME = 600;
=======
>>>>>>> babce7e82dc134320378dfce834b316b88320254

describe('Carousel', () => {
  beforeEach(() => {
    jest.useFakeTimers();
  });

  afterEach(() => {
    jest.clearAllTimers();
  });

  const items = [
    { src: '', altText: 'a', caption: 'caption 1' },
    { src: '', altText: 'b', caption: 'caption 2' },
<<<<<<< HEAD
    { src: '', altText: 'c', caption: 'caption 3' },
  ];

  const slides = items.map((item, idx) => {
    return (
      <CarouselItem key={idx}>
        <CarouselCaption
          captionText={item.caption}
          captionHeader={item.caption}
        />
      </CarouselItem>
    );
  });

  describe('captions', () => {
    it('should render a header and a caption', () => {
      render(<CarouselCaption captionHeader="abc" captionText="def" />);
      expect(screen.getByText('abc').tagName.toLowerCase()).toBe('h3');
      expect(screen.getByText('def').tagName.toLowerCase()).toBe('p');
=======
    { src: '', altText: 'c', caption: 'caption 3' }
  ];

  describe('captions', () => {
    it('should render a header and a caption', () => {
      const wrapper = mount(<CarouselCaption captionHeader="abc" captionText="def" />);
      expect(wrapper.find('h3').length).toEqual(1);
      expect(wrapper.find('p').length).toEqual(1);
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });
  });

  describe('items', () => {
    it('should render custom tag', () => {
<<<<<<< HEAD
      render(<CarouselItem tag="main">Hello</CarouselItem>);
      expect(screen.getByText(/hello/i).tagName.toLowerCase()).toBe('main');
    });

    it('should render an image if one is passed in', () => {
      render(
        <CarouselItem>
          <img src={items[0].src} alt={items[0].altText} />
        </CarouselItem>,
      );
      expect(screen.getByAltText(items[0].altText)).toBeInTheDocument();
    });

    it('should render a caption if one is passed in', () => {
      render(
        <CarouselItem>
          <CarouselCaption captionHeader="header" captionText="text" />
        </CarouselItem>,
      );
      expect(screen.getByText('header')).toBeInTheDocument();
      expect(screen.getByText('text')).toBeInTheDocument();
=======
      const wrapper = mount(<CarouselItem tag="img" />);
      expect(wrapper.find('img').length).toBe(1);
    });

    it('should render an image if one is passed in', () => {
      const wrapper = mount(
        <CarouselItem>
          <img src={items[0].src} alt={items[0].src} />
        </CarouselItem>
      );
      expect(wrapper.find('img').length).toEqual(1);
    });

    it('should render a caption if one is passed in', () => {
      const wrapper = mount(
        <CarouselItem>
          <CarouselCaption captionHeader="text" captionText="text" />
        </CarouselItem>
      );
      expect(wrapper.find(CarouselCaption).length).toEqual(1);
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    describe('transitions', () => {
      it('should add the appropriate classes when entering right', () => {
<<<<<<< HEAD
        const wrapper = ({ children }) => (
          <CarouselContext.Provider value={{ direction: 'end' }}>
            {children}
          </CarouselContext.Provider>
        );

        const { rerender } = render(
          <CarouselItem in={false}>the mandalorian</CarouselItem>,
          { wrapper },
        );
        rerender(<CarouselItem in>the mandalorian</CarouselItem>);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item carousel-item-start carousel-item-next',
        );
        jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item active',
        );
        rerender(<CarouselItem in={false}>the mandalorian</CarouselItem>);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item active carousel-item-start',
        );
        jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item',
        );
      });

      it('should add the appropriate classes when entering left', () => {
        const wrapper = ({ children }) => (
          <CarouselContext.Provider value={{ direction: 'start' }}>
            {children}
          </CarouselContext.Provider>
        );

        const { rerender } = render(
          <CarouselItem in={false}>the mandalorian</CarouselItem>,
          { wrapper },
        );
        rerender(<CarouselItem in>the mandalorian</CarouselItem>);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item carousel-item-end carousel-item-prev',
        );
        jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item active',
        );
        rerender(<CarouselItem in={false}>the mandalorian</CarouselItem>);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item active carousel-item-end',
        );
        jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
        expect(screen.getByText(/the mandalorian/i)).toHaveClass(
          'carousel-item',
        );
=======
        const wrapper = mount(<CarouselItem in={false} />, { context: { direction: 'right' } });

        wrapper.setProps({ in: true });
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item carousel-item-left carousel-item-next');
        jest.runTimersToTime(600);
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item active');
        wrapper.setProps({ in: false });
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item active carousel-item-left');
        jest.runTimersToTime(600);
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item');
      });

      it('should add the appropriate classes when entering left', () => {
        const wrapper = mount(<CarouselItem in={false} />, { context: { direction: 'left' } });

        wrapper.setProps({ in: true });
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item carousel-item-right carousel-item-prev');
        jest.runTimersToTime(600);
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item active');
        wrapper.setProps({ in: false });
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item active carousel-item-right');
        jest.runTimersToTime(600);
        expect(wrapper.update().find('div').prop('className')).toEqual('carousel-item');
>>>>>>> babce7e82dc134320378dfce834b316b88320254
      });

      it('should call all callbacks when transitioning in and out', () => {
        const callbacks = {
          onEnter: jest.fn(),
          onEntering: jest.fn(),
          onEntered: jest.fn(),
          onExit: jest.fn(),
          onExiting: jest.fn(),
          onExited: jest.fn(),
        };
<<<<<<< HEAD
        const { rerender } = render(<CarouselItem in={false} {...callbacks} />);
        rerender(<CarouselItem in {...callbacks} />);
        expect(callbacks.onEnter).toHaveBeenCalled();
        expect(callbacks.onEntering).toHaveBeenCalled();
        expect(callbacks.onEntered).not.toHaveBeenCalled();
        jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
        expect(callbacks.onEntered).toHaveBeenCalled();
        expect(callbacks.onExit).not.toHaveBeenCalled();

        rerender(<CarouselItem in={false} {...callbacks} />);
        expect(callbacks.onExit).toHaveBeenCalled();
        expect(callbacks.onExiting).toHaveBeenCalled();
        expect(callbacks.onExited).not.toHaveBeenCalled();
        jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
        expect(callbacks.onExiting).toHaveBeenCalled();
        expect(callbacks.onExited).toHaveBeenCalled();
=======
        const wrapper = mount(<CarouselItem in={false} {...callbacks} />);
        wrapper.setProps({ in: true });
        expect(callbacks.onEnter).toHaveBeenCalled();
        expect(callbacks.onEntering).toHaveBeenCalled();
        expect(callbacks.onEntered).not.toHaveBeenCalled();
        jest.runTimersToTime(600);
        expect(callbacks.onEntered).toHaveBeenCalled();
        expect(callbacks.onExit).not.toHaveBeenCalled();

        wrapper.setProps({ in: false });
        expect(callbacks.onExit).toHaveBeenCalled();
        expect(callbacks.onExiting).toHaveBeenCalled();
        expect(callbacks.onExited).not.toHaveBeenCalled();
        jest.runTimersToTime(600);
        expect(callbacks.onExiting).toHaveBeenCalled();
        expect(callbacks.onExited).toHaveBeenCalled();

        wrapper.unmount();
>>>>>>> babce7e82dc134320378dfce834b316b88320254
      });
    });
  });

  describe('indicators', () => {
    it('should render a list with the right number of items', () => {
<<<<<<< HEAD
      render(
        <CarouselIndicators
          items={items}
          activeIndex={0}
          onClickHandler={() => {}}
        />,
      );
      expect(screen.getAllByLabelText(/caption/i).length).toBe(3);
    });

    it('should append the correct active class', () => {
      render(
        <CarouselIndicators
          items={items}
          activeIndex={0}
          onClickHandler={() => {}}
        />,
      );
      expect(screen.getByLabelText(/caption 1/i)).toHaveClass('active');
=======
      const wrapper = mount(<CarouselIndicators items={items} activeIndex={0} onClickHandler={() => { }} />);
      expect(wrapper.find('ol').length).toEqual(1);
      expect(wrapper.find('li').length).toEqual(3);
    });

    it('should append the correct active class', () => {
      const wrapper = mount(<CarouselIndicators items={items} activeIndex={0} onClickHandler={() => { }} />);
      expect(wrapper.find('.active').hostNodes().length).toEqual(1);
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    it('should call the click hanlder', () => {
      const onClick = jest.fn();
<<<<<<< HEAD
      render(
        <CarouselIndicators
          items={items}
          activeIndex={0}
          onClickHandler={onClick}
        />,
      );
      user.click(screen.getByLabelText(/caption 1/i));
=======
      const wrapper = mount(<CarouselIndicators items={items} activeIndex={0} onClickHandler={onClick} />);
      wrapper.find('li').first().simulate('click');
>>>>>>> babce7e82dc134320378dfce834b316b88320254
      expect(onClick).toHaveBeenCalled();
    });
  });

  describe('controls', () => {
    it('should render an anchor tag', () => {
<<<<<<< HEAD
      render(<CarouselControl direction="next" onClickHandler={() => {}} />);
      expect(screen.getByRole('button').tagName.toLowerCase()).toBe('a');
=======
      const wrapper = mount(<CarouselControl direction="next" onClickHandler={() => { }} />);
      expect(wrapper.find('a').length).toEqual(1);
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    it('should call the onClickHandler', () => {
      const onClick = jest.fn();
<<<<<<< HEAD
      render(<CarouselControl direction="next" onClickHandler={onClick} />);
      user.click(screen.getByRole('button'));
=======
      const wrapper = mount(<CarouselControl direction="next" onClickHandler={onClick} />);
      wrapper.find('a').first().simulate('click');
>>>>>>> babce7e82dc134320378dfce834b316b88320254
      expect(onClick).toHaveBeenCalled();
    });
  });

  describe('rendering', () => {
    it('should show the carousel indicators', () => {
<<<<<<< HEAD
      render(
        <Carousel activeIndex={0} next={() => {}} previous={() => {}}>
          <CarouselIndicators
            items={items}
            data-testid="c3po"
            activeIndex={0}
            onClickHandler={() => {}}
          />
          {slides}
        </Carousel>,
      );
      expect(screen.getByTestId('c3po')).toHaveClass('carousel-indicators');
    });

    it('should show controls', () => {
      render(
        <Carousel activeIndex={0} next={() => {}} previous={() => {}}>
          {slides}
          <CarouselControl
            direction="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );
      screen.getAllByRole('button').forEach((element) => {
        expect(element.className).toMatch(/carousel-control/i);
      });
    });

    it('should show a single slide', () => {
      render(
        <Carousel
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
          data-testid="carousel"
        >
          {slides}
        </Carousel>,
      );
      expect(
        screen.getByTestId('carousel').getElementsByClassName('active').length,
      ).toBe(1);
    });

    it('should show indicators and controls', () => {
      render(
        <Carousel activeIndex={0} next={() => {}} previous={() => {}}>
          <CarouselIndicators
            items={items}
            data-testid="carousel-indicator"
            activeIndex={0}
            onClickHandler={() => {}}
          />
          {slides}
          <CarouselControl
            direction="prev"
            data-testid="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            data-testid="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      expect(screen.getByTestId('carousel-indicator')).toBeInTheDocument();
      expect(screen.getByTestId('prev')).toBeInTheDocument();
      expect(screen.getByTestId('next')).toBeInTheDocument();
    });

    it('should tolerate booleans, null and undefined values rendered as children of Carousel', () => {
      render(
        <Carousel activeIndex={0} next={() => {}} previous={() => {}}>
=======
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel activeIndex={0} next={() => { }} previous={() => { }}>
          <CarouselIndicators items={items} activeIndex={0} onClickHandler={() => { }} />
          {slides}
        </Carousel>
      );

      expect(wrapper.find(CarouselIndicators).length).toEqual(1);
    });

    it('should show controls', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel activeIndex={0} next={() => { }} previous={() => { }}>
          {slides}
          <CarouselControl direction="prev" directionText="Previous" onClickHandler={() => { }} />
          <CarouselControl direction="next" directionText="Next" onClickHandler={() => { }} />
        </Carousel>
      );

      expect(wrapper.find(CarouselControl).length).toEqual(2);
    });

    it('should show a single slide', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel activeIndex={0} next={() => { }} previous={() => { }}>
          {slides}
        </Carousel>
      );
      expect(wrapper.find('.carousel-item.active').hostNodes().length).toEqual(1);
    });

    it('should show indicators and controls', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel activeIndex={0} next={() => { }} previous={() => { }}>
          <CarouselIndicators items={items} activeIndex={0} onClickHandler={() => { }} />
          {slides}
          <CarouselControl direction="prev" directionText="Previous" onClickHandler={() => { }} />
          <CarouselControl direction="next" directionText="Next" onClickHandler={() => { }} />
        </Carousel>
      );

      expect(wrapper.find(CarouselControl).length).toEqual(2);
      expect(wrapper.find(CarouselIndicators).length).toEqual(1);
    });

    it('should tolerate booleans, null and undefined values rendered as children of Carousel', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel activeIndex={0} next={() => { }} previous={() => { }}>
>>>>>>> babce7e82dc134320378dfce834b316b88320254
          {null}
          {true}
          {false}
          {undefined}
          {(() => {})()}
<<<<<<< HEAD
          <CarouselIndicators
            items={items}
            data-testid="carousel-indicator"
            activeIndex={0}
            onClickHandler={() => {}}
          />
          {slides}
          <CarouselControl
            direction="prev"
            data-testid="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            data-testid="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      expect(screen.getByTestId('carousel-indicator')).toBeInTheDocument();
      expect(screen.getByTestId('prev')).toBeInTheDocument();
      expect(screen.getByTestId('next')).toBeInTheDocument();
    });

    it('should not have the class "carousel-dark" by default', () => {
      render(
        <Carousel
          data-testid="star-wars"
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          {slides}
        </Carousel>,
      );

      expect(screen.getByTestId('star-wars')).not.toHaveClass('carousel-dark');
    });

    it('should have the class "carousel-dark" when dark prop is true', () => {
      render(
        <Carousel
          data-testid="star-wars"
          dark
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          {slides}
        </Carousel>,
      );

      expect(screen.getByTestId('star-wars')).toHaveClass('carousel-dark');
=======
          <CarouselIndicators items={items} activeIndex={0} onClickHandler={() => { }} />
          {slides}
          <CarouselControl direction="prev" directionText="Previous" onClickHandler={() => { }} />
          <CarouselControl direction="next" directionText="Next" onClickHandler={() => { }} />
        </Carousel>
      );
      expect(wrapper.find(CarouselControl).length).toEqual(2);
      expect(wrapper.find(CarouselIndicators).length).toEqual(1);
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });
  });

  describe('carouseling', () => {
<<<<<<< HEAD
    const carouselItems = [
      { src: '', altText: 'a', caption: 'Grogu' },
      { src: '', altText: 'b', caption: 'Boba Fett' },
      { src: '', altText: 'c', caption: 'The Mandalorian' },
    ];

    const carouselSlides = carouselItems.map((item, idx) => {
      return <CarouselItem key={idx}>{item.caption}</CarouselItem>;
    });

    it('should set second slide to active if second indicator clicked', () => {
      const { rerender } = render(
        <Carousel activeIndex={0} next={() => {}} previous={() => {}}>
          <CarouselIndicators
            items={carouselItems}
            data-testid="boba-fett"
            activeIndex={0}
            onClickHandler={() => function () {}}
          />
          {carouselSlides}
          <CarouselControl
            direction="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      user.click(screen.getByLabelText(/boba fett/i));

      rerender(
        <Carousel activeIndex={1} next={() => {}} previous={() => {}}>
          <CarouselIndicators
            items={carouselItems}
            data-testid="boba-fett"
            activeIndex={1}
            onClickHandler={() => function () {}}
          />
          {carouselSlides}
          <CarouselControl
            direction="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      expect(screen.getByText(/boba fett/i)).toHaveClass(
        'carousel-item carousel-item-start carousel-item-next',
      );
      jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
      expect(screen.getByText(/boba fett/i)).toHaveClass(
        'carousel-item active',
      );
    });

    it('should go right when the index increases', () => {
      const { rerender } = render(
        <Carousel
          interval={1000}
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );

      rerender(
        <Carousel
          interval={1000}
          activeIndex={1}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );
      expect(screen.getByText(/boba fett/i)).toHaveClass(
        'carousel-item carousel-item-start carousel-item-next',
      );
      jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
      expect(screen.getByText(/boba fett/i)).toHaveClass('active');
    });

    it('should go left when the index decreases', () => {
      const { rerender } = render(
        <Carousel
          interval={1000}
          activeIndex={1}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );

      rerender(
        <Carousel
          interval={1000}
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );
      expect(screen.getByText(/grogu/i)).toHaveClass(
        'carousel-item carousel-item-prev carousel-item-end',
      );
      jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
      expect(screen.getByText(/grogu/i)).toHaveClass('active');
    });

    it('should go right if transitioning from the last to first slide by non-indicator', () => {
      const { rerender } = render(
        <Carousel
          interval={1000}
          activeIndex={2}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );

      rerender(
        <Carousel
          interval={1000}
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );
      expect(screen.getByText(/grogu/i)).toHaveClass(
        'carousel-item carousel-item-start carousel-item-next',
      );
      jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
      expect(screen.getByText(/grogu/i)).toHaveClass('active');
    });

    it('should go left if transitioning from the last to first slide by indicator', () => {
      const { rerender } = render(
        <Carousel
          interval={1000}
          activeIndex={2}
          next={() => {}}
          previous={() => {}}
        >
          <CarouselIndicators
            items={carouselItems}
            activeIndex={2}
            onClickHandler={() => {}}
          />
          {carouselSlides}
          <CarouselControl
            direction="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      user.click(screen.getByLabelText(/grogu/i));

      rerender(
        <Carousel
          interval={1000}
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          <CarouselIndicators
            items={carouselItems}
            activeIndex={0}
            onClickHandler={() => {}}
          />
          {carouselSlides}
          <CarouselControl
            direction="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      expect(screen.getByText(/grogu/i)).toHaveClass(
        'carousel-item carousel-item-end carousel-item-prev',
      );
    });

    it('should go left if transitioning from the first to last slide by non-indicator', () => {
      const { rerender } = render(
        <Carousel
          interval={1000}
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );

      rerender(
        <Carousel
          interval={1000}
          activeIndex={2}
          next={() => {}}
          previous={() => {}}
        >
          {carouselSlides}
        </Carousel>,
      );

      expect(screen.getByText(/the mandalorian/i)).toHaveClass(
        'carousel-item carousel-item-end carousel-item-prev',
      );
      jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
      expect(screen.getByText(/the mandalorian/i)).toHaveClass('active');
    });

    it('should go right if transitioning from the first to last slide by indicator', () => {
      const { rerender } = render(
        <Carousel
          interval={1000}
          activeIndex={0}
          next={() => {}}
          previous={() => {}}
        >
          <CarouselIndicators
            items={carouselItems}
            activeIndex={0}
            onClickHandler={() => {}}
          />
          {carouselSlides}
          <CarouselControl
            direction="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      user.click(screen.getByLabelText(/the mandalorian/i));

      rerender(
        <Carousel
          interval={1000}
          activeIndex={2}
          next={() => {}}
          previous={() => {}}
        >
          <CarouselIndicators
            items={carouselItems}
            activeIndex={2}
            onClickHandler={() => {}}
          />
          {carouselSlides}
          <CarouselControl
            direction="prev"
            directionText="Previous"
            onClickHandler={() => {}}
          />
          <CarouselControl
            direction="next"
            directionText="Next"
            onClickHandler={() => {}}
          />
        </Carousel>,
      );

      expect(screen.getByText(/the mandalorian/i)).toHaveClass(
        'carousel-item carousel-item-start carousel-item-next',
      );
      jest.advanceTimersByTime(DEFAULT_TIMER_TIME);
      expect(screen.getByText(/the mandalorian/i)).toHaveClass('active');
    });
=======
    it('should set indicatorClicked to true if indicator clicked', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel activeIndex={0} next={() => { }} previous={() => { }}>
          <CarouselIndicators items={items} activeIndex={0} onClickHandler={() => function () {}} />
          {slides}
          <CarouselControl direction="prev" directionText="Previous" onClickHandler={() => { }} />
          <CarouselControl direction="next" directionText="Next" onClickHandler={() => { }} />
        </Carousel>
      );

      wrapper.find(CarouselIndicators).find('li').first().simulate('click');
      expect(wrapper.state().indicatorClicked).toEqual(true);
    });

    it('should go right when the index increases', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel interval={1000} activeIndex={0} next={() => { }} previous={() => { }}>
          {slides}
        </Carousel>
      );

      wrapper.setProps({ activeIndex: 1 });
      expect(wrapper.state().direction).toEqual('right');
    });

    it('should go left when the index decreases', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel interval={1000} activeIndex={1} next={() => { }} previous={() => { }}>
          {slides}
        </Carousel>
      );

      wrapper.setProps({ activeIndex: 0 });
      expect(wrapper.state().direction).toEqual('left');
    });

    it('should go right if transitioning from the last to first slide by non-indicator', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel interval={1000} activeIndex={2} next={() => { }} previous={() => { }}>
          {slides}
        </Carousel>
      );

      wrapper.setProps({ activeIndex: 0 });
      expect(wrapper.state().direction).toEqual('right');
    });

    it('should go left if transitioning from the last to first slide by indicator', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel interval={1000} activeIndex={2} next={() => { }} previous={() => { }}>
          <CarouselIndicators items={items} activeIndex={2} onClickHandler={() => { }} />
          {slides}
          <CarouselControl direction="prev" directionText="Previous" onClickHandler={() => { }} />
          <CarouselControl direction="next" directionText="Next" onClickHandler={() => { }} />
        </Carousel>
      );

      wrapper.setState({ indicatorClicked: true });
      wrapper.setProps({ activeIndex: 0 });
      expect(wrapper.state().direction).toEqual('left');
    });

    it('should go left if transitioning from the first to last slide by non-indicator', () => {
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel interval={1000} activeIndex={0} next={() => { }} previous={() => { }}>
          {slides}
        </Carousel>
      );

      wrapper.setProps({ activeIndex: 2 });
      expect(wrapper.state().direction).toEqual('left');
    });
  });

  it('should go right if transitioning from the first to last slide by indicator', () => {
    const slides = items.map((item, idx) => {
      return (
        <CarouselItem
          key={idx}
        >
          <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
        </CarouselItem>
      );
    });

    const wrapper = mount(
      <Carousel interval={1000} activeIndex={0} next={() => { }} previous={() => { }}>
        <CarouselIndicators items={items} activeIndex={0} onClickHandler={() => { }} />
        {slides}
        <CarouselControl direction="prev" directionText="Previous" onClickHandler={() => { }} />
        <CarouselControl direction="next" directionText="Next" onClickHandler={() => { }} />
      </Carousel>
    );

    wrapper.setState({ indicatorClicked: true });
    wrapper.setProps({ activeIndex: 2 });
    expect(wrapper.state().direction).toEqual('right');
>>>>>>> babce7e82dc134320378dfce834b316b88320254
  });

  describe('interval', () => {
    it('should not autoplay by default', () => {
      const next = jest.fn();
<<<<<<< HEAD
      render(
        <Carousel
          next={next}
          previous={() => {}}
          interval={1000}
          activeIndex={0}
        >
          {slides}
        </Carousel>,
      );
      jest.advanceTimersByTime(1000);
      expect(next).not.toHaveBeenCalled();
=======
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel next={next} previous={() => { }} interval={1000} activeIndex={0}>
          {slides}
        </Carousel>
      );
      jest.runTimersToTime(1000);
      expect(next).not.toHaveBeenCalled();
      wrapper.unmount();
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    it('should autoplay when ride is carousel', () => {
      const next = jest.fn();
<<<<<<< HEAD
      render(
        <Carousel
          next={next}
          previous={() => {}}
          interval={1000}
          activeIndex={0}
          ride="carousel"
        >
          {slides}
        </Carousel>,
      );
      jest.advanceTimersByTime(1000);
      expect(next).toHaveBeenCalled();
=======
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel next={next} previous={() => { }} interval={1000} activeIndex={0} ride="carousel">
          {slides}
        </Carousel>
      );
      jest.runTimersToTime(1000);
      expect(next).toHaveBeenCalled();
      wrapper.unmount();
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    it('should accept a number', () => {
      const next = jest.fn();
<<<<<<< HEAD
      render(
        <Carousel
          next={next}
          previous={() => {}}
          interval={1000}
          activeIndex={0}
          ride="carousel"
        >
          {slides}
        </Carousel>,
      );
      jest.advanceTimersByTime(1000);
      expect(next).toHaveBeenCalled();
=======
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel next={next} previous={() => { }} interval={1000} activeIndex={0} ride="carousel">
          {slides}
        </Carousel>
      );
      jest.runTimersToTime(1000);
      expect(next).toHaveBeenCalled();
      wrapper.unmount();
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    it('should accept a boolean', () => {
      const next = jest.fn();
<<<<<<< HEAD
      render(
        <Carousel
          next={next}
          previous={() => {}}
          activeIndex={0}
          interval={false}
        >
          {slides}
        </Carousel>,
      );
      jest.advanceTimersByTime(5000);
      expect(next).not.toHaveBeenCalled();
=======
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel next={next} previous={() => { }} activeIndex={0} interval={false}>
          {slides}
        </Carousel>
      );
      jest.runTimersToTime(5000);
      expect(next).not.toHaveBeenCalled();
      wrapper.unmount();
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    it('should default to 5000', () => {
      const next = jest.fn();
<<<<<<< HEAD
      render(
        <Carousel
          next={next}
          previous={() => {}}
          activeIndex={0}
          ride="carousel"
        >
          {slides}
        </Carousel>,
      );
      jest.advanceTimersByTime(5000);
      expect(next).toHaveBeenCalled();
=======
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });

      const wrapper = mount(
        <Carousel next={next} previous={() => { }} activeIndex={0} ride="carousel">
          {slides}
        </Carousel>
      );
      jest.runTimersToTime(5000);
      expect(next).toHaveBeenCalled();
      wrapper.unmount();
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });

    it('it should accept a string', () => {
      const next = jest.fn();
<<<<<<< HEAD
      render(
        <Carousel
          next={next}
          previous={() => {}}
          interval="1000"
          activeIndex={0}
          ride="carousel"
        >
          {slides}
        </Carousel>,
      );
      jest.advanceTimersByTime(1000);
      expect(next).toHaveBeenCalled();
=======
      const slides = items.map((item, idx) => {
        return (
          <CarouselItem
            key={idx}
          >
            <CarouselCaption captionText={item.caption} captionHeader={item.caption} />
          </CarouselItem>
        );
      });
      const wrapper = mount(
        <Carousel next={next} previous={() => { }} interval="1000" activeIndex={0} ride="carousel">
          {slides}
        </Carousel>
      );
      jest.runTimersToTime(1000);
      expect(next).toHaveBeenCalled();
      wrapper.unmount();
>>>>>>> babce7e82dc134320378dfce834b316b88320254
    });
  });
});
